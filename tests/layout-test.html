<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor Layout Test</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f8fafc;
        }
        
        .editor-container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 1.5rem; 
        }

        /* Flexbox-based layout for better control */
        .editor-layout {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            align-items: stretch;
        }

        .editor-main {
            flex: 1;
            min-width: 0; /* Prevent overflow */
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .editor-sidebar {
            flex-shrink: 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background: #f9fafb;
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
        }

        /* Desktop layout */
        @media (min-width: 768px) {
            .editor-layout {
                flex-direction: row;
                align-items: flex-start;
            }
            
            .editor-main {
                flex: 2;
                min-width: 0;
            }
            
            .editor-sidebar {
                flex: 0 0 320px; /* Fixed width */
                position: sticky;
                top: 1rem;
                max-height: calc(100vh - 2rem);
                overflow-y: auto;
            }
        }

        .form-input { 
            border: 1px solid #e5e7eb; 
            border-radius: .5rem; 
            padding: .6rem .8rem; 
            background: #fff; 
            color: #111827; 
            width: 100%;
            box-sizing: border-box;
        }

        .wysiwyg { 
            min-height: 420px; 
            padding: 1rem; 
            background: #fff; 
            border: 1px solid #e5e7eb; 
            border-radius: .75rem; 
            white-space: pre-wrap;
            width: 100%;
            box-sizing: border-box;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border: none;
            background: #3b82f6;
            color: white;
            cursor: pointer;
            font-weight: 500;
        }

        .btn:hover {
            background: #2563eb;
        }

        .test-info {
            background: #fee2e2;
            border: 1px solid #fecaca;
            color: #991b1b;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
        }

        .sidebar-section {
            background: white;
            padding: 1rem;
            border-radius: 0.5rem;
            border: 1px solid #e5e7eb;
        }
    </style>
</head>
<body>
    <div class="editor-container">
        <div class="test-info">
            <h2>Editor Layout Test</h2>
            <p>This page tests the CSS layout for the post editor without requiring authentication.</p>
            <p><strong>Test:</strong> Resize the browser window to see responsive behavior. The sidebar should be sticky on desktop and stack below on mobile.</p>
        </div>

        <div class="editor-layout">
            <div class="editor-main">
                <h1>Edit Post</h1>
                <input type="text" class="form-input" placeholder="Post Title" value="The Ultimate Guide to Modern Web Development: A Comprehensive Journey">
                
                <div class="wysiwyg" contenteditable="true">
# The Ultimate Guide to Modern Web Development: A Comprehensive Journey

Welcome to the most comprehensive guide you'll ever need for modern web development! This article covers everything from basic HTML to advanced React patterns, complete with examples, code snippets, and practical insights. Whether you're a beginner or an experienced developer, you'll find valuable information here.

<more-->

## Table of Contents

- [Introduction to Web Development](#introduction)
- [Frontend Technologies](#frontend)  
- [Backend Development](#backend)
- [Database Management](#database)
- [DevOps and Deployment](#devops)
- [Best Practices](#best-practices)
- [Advanced Topics](#advanced)
- [Resources and Tools](#resources)

---

## Introduction to Web Development {#introduction}

Web development has evolved tremendously over the past decade. From simple static websites to complex, interactive applications, the landscape continues to change rapidly.

> "The best time to plant a tree was 20 years ago. The second best time is now." - This philosophy applies perfectly to learning web development!

### Why Web Development Matters

1. **Universal Accessibility** - Web apps run everywhere
2. **Cost-Effective** - Single codebase, multiple platforms  
3. **Rapid Development** - Fast iteration and deployment
4. **Rich Ecosystem** - Thousands of libraries and tools

Here's a visual representation of the web development ecosystem:

[Image would be here]

---

## Frontend Technologies {#frontend}

The frontend is where users interact with your application. Let's explore the key technologies:

### HTML5 - The Foundation

HTML5 provides semantic elements that make your content more accessible and SEO-friendly:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Web App</title>
</head>
<body>
    <header>
        <nav aria-label="Main navigation">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>
</body>
</html>
```

This content continues for many more sections, simulating a very long blog post that would cause layout issues if not handled properly...

### CSS3 - Styling and Layout  

Modern CSS offers powerful features like Grid, Flexbox, and custom properties...

### JavaScript ES2024 - The Logic

Modern JavaScript includes many powerful features...

### React - Component-Based UI

React revolutionized frontend development...

## Backend Development {#backend}

The backend is the server-side logic that powers your application...

## Database Management {#database}

Modern applications require efficient data storage...

## DevOps and Deployment {#devops}

Modern deployment requires automation...

## Best Practices {#best-practices}

Following industry best practices...

## Advanced Topics {#advanced}

Let's dive into some cutting-edge topics...

## Resources and Tools {#resources}

Here's a comprehensive list of tools...

---

This is a very long post to test how the layout handles extensive content. The sidebar should remain visible and sticky while scrolling through all this content.
                </div>
            </div>

            <div class="editor-sidebar">
                <div class="sidebar-section">
                    <label>Slug:</label>
                    <input type="text" class="form-input" placeholder="Slug (optional)" value="the-ultimate-guide-to-modern-web-development-a-comprehensive-journey">
                </div>

                <div class="sidebar-section">
                    <label>Featured Image URL:</label>
                    <input type="text" class="form-input" placeholder="Featured Image URL" value="/static/placeholder-featured.svg">
                </div>

                <div class="sidebar-section">
                    <label>Categories:</label>
                    <div style="margin-top: 0.5rem;">
                        <label><input type="checkbox" checked> Web Development</label><br>
                        <label><input type="checkbox"> JavaScript</label><br>  
                        <label><input type="checkbox"> React</label><br>
                        <label><input type="checkbox"> Node.js</label>
                    </div>
                </div>

                <div class="sidebar-section">
                    <label><input type="checkbox" checked> Published</label>
                </div>

                <button type="submit" class="btn">Update Post</button>
            </div>
        </div>
    </div>

    <script>
        // Add some interactivity to test
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Layout test loaded');
            
            // Log layout information
            const layout = document.querySelector('.editor-layout');
            const main = document.querySelector('.editor-main');
            const sidebar = document.querySelector('.editor-sidebar');
            
            function logLayout() {
                const layoutRect = layout.getBoundingClientRect();
                const mainRect = main.getBoundingClientRect();
                const sidebarRect = sidebar.getBoundingClientRect();
                
                console.log('Layout dimensions:');
                console.log('Layout:', layoutRect.width, 'x', layoutRect.height);
                console.log('Main:', mainRect.width, 'x', mainRect.height, 'at', mainRect.x, mainRect.y);
                console.log('Sidebar:', sidebarRect.width, 'x', sidebarRect.height, 'at', sidebarRect.x, sidebarRect.y);
                console.log('Desktop layout (side by side):', mainRect.x < sidebarRect.x);
                console.log('---');
            }
            
            // Log initial layout
            logLayout();
            
            // Log layout on resize
            let resizeTimer;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(logLayout, 250);
            });

            // Test scrolling behavior
            let scrollTimer;
            window.addEventListener('scroll', function() {
                clearTimeout(scrollTimer);
                scrollTimer = setTimeout(function() {
                    const sidebarRect = sidebar.getBoundingClientRect();
                    console.log('Scroll - Sidebar top:', sidebarRect.y);
                }, 100);
            });
        });
    </script>
</body>
</html>